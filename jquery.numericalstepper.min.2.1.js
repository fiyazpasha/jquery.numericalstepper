(function(b,c){if(typeof myObj=="undefined"){myObj={}}function a(){window.console&&console.log&&console.log("[numericalstepper] "+Array.prototype.join.call(arguments," "))}b.fn.numericalstepper=function(d){var e={s:this.selector,c:this.context};if(this.length===0){if(!b.isReady&&e.s){a("DOM not ready, queuing slideshow");b(function(){b(e.s,e.c).numericalstepper(d)});return this}a("terminating; zero elements found by selector"+(b.isReady?"":" (DOM not ready)"));return this}return this.each(function(){var f=myObj.initializeOptions(this,d);if(typeof f=="undefined"){return}myObj._setValue(this,f);myObj._AddEventListeners(this,f)})};myObj.initializeOptions=function(e,d){this.options={step:1,start:50,min:0,max:100,stepHandler:null,value:null,stepperType:"+",eventHandler:"click"};this.options=b.extend(this.options,d);if(this.options.value==null){this.options.value=this.options.start}if(typeof this.options.stepUp=="undefined"||typeof this.options.stepDown=="undefined"||typeof this.options.displayObject=="undefined"){alert("Required handlers missing. Please set handler values for increment, decrement and stepper display objects.");return}else{if(this.options.start<this.options.min||this.options.start>this.options.max){a("Invalid inputs for start & min/max values");return}else{return this.options}}};myObj._AddEventListeners=function(e,d){_t=this;function f(g){clearInterval(_t.intervalHandler);b(document).off("mouseup",f)}if(d.stepUp!=="undefined"||d.stepUp!==null){if(d.eventHandler=="mousedown"){b(e).on("mousedown",d.stepUp,function(g){d.stepperType="+";_t.intervalHandler=setInterval(function(){myObj._mouseDownStepper(e,d)},60);b(document).on("mouseup",f)});b(e).on("mouseup",d.stepUp,f);b(e).on("mouseleave",d.stepUp,f)}else{b(e).on(d.eventHandler,d.stepUp,function(g){myObj._stepUpEvent(e,d)})}}if(d.stepDown!=="undefined"||d.stepDown!==null){if(d.eventHandler=="mousedown"){b(e).on("mousedown",d.stepDown,function(g){d.stepperType="-";_t.intervalHandler=setInterval(function(){myObj._mouseDownStepper(e,d)},60);b(document).on("mouseup",f)});b(e).on("mouseup",d.stepDown,f);b(e).on("mouseleave",d.stepDown,f)}else{b(e).on(d.eventHandler,d.stepDown,function(g){myObj._stepDownEvent(e,d)})}}};myObj._mouseDownStepper=function(e,d){if(d.stepperType=="+"){d.start+=d.step;if(d.start>d.max){d.start=d.max}}else{d.start-=d.step;if(d.start<d.min){d.start=d.min}}d.value=d.start;myObj._setValue(e,d)};myObj._setValue=function(f,d){if(d.stepHandler!=null&&typeof d.stepHandler!="undefined"){d.stepHandler(d)}var e=b(f).find(d.displayObject).prop("tagName");if(e.toLowerCase()=="textarea"||e.toLowerCase()=="input"||e.toLowerCase()=="select"){b(f).find(d.displayObject).val(d.start)}else{b(f).find(d.displayObject).text(d.start)}};myObj._stepUpEvent=function(e,d){d.start+=d.step;if(d.start>d.max){d.start=d.max}d.value=d.start;myObj._setValue(e,d)};myObj._stepDownEvent=function(e,d){d.start-=d.step;if(d.start<d.min){d.start=d.min}d.value=d.start;myObj._setValue(e,d)}})(jQuery);
