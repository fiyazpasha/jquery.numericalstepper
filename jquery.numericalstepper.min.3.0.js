(function(b){function a(){window.console&&console.log&&console.log(Array.prototype.join.call(arguments," "))}b.fn.numericalStepper=function(h){var m,v,d,r,s;var i={stepUp:null,stepDown:null,displayObject:null,min:0,max:100,start:10,step:10,stepHandler:c,stepperEvent:"mousedown",speed:0.11,log:true};var q=b(this);q.on("error",function(t,x){a(x.msg+" Error code: "+x.code)});h=b.extend(i,h);s=h.log;if(h.stepUp==null||h.stepDown==null||h.displayObject==null){var w="Required handlers missing. \nPlease set handler values for increment, decrement and stepper display objects.";q.trigger("error",{msg:w,code:1});return}m=q.find(h.displayObject);o(q.find(h.stepUp));o(q.find(h.stepDown));m.on("keyup",g);d=h.start;e();function o(t){t.on("mousedown",l);t.on("mouseup",n)}var u,j,k;function l(t){u=true;v=(b(this).hasClass("increase"))?"+":"-";b(document).on("mouseup",n);t.stopPropagation();k=(new Date()).getTime();e();j=setInterval(function(){var x=(new Date()).getTime()-k;if(x>500&&u){e()}},h.speed*1000)}function n(t){u=false;clearInterval(j);b(document).off("mouseup",n)}function p(t){}function g(t){var x=f(b(this));r=true;v="=";d=x;e()}function f(t){var y=t.val().substring((h.isCurrency)?1:0);nonInt=(y.replace(/[0-9,]/gi,"").length>0)?true:false;if(nonInt==true&&s==true){var x="The numericalstepper doesn't like non-integers, please use a whole number.";q.trigger("error",{msg:x,code:2})}y=y.split(",").join("");y=y.replace(/[^0-9.]+/gi,"");return Number(y)}function e(){var x;if(v=="+"){x=(d+h.step)}else{if(v=="-"){x=(d-h.step)}else{x=d}}if(x>h.max){if(s==true){q.trigger("error",{msg:"Invalid input. input value is lesser than min value.",code:3})}x=h.max}else{if(x<h.min){if(s==true){q.trigger("error",{msg:"Invalid input. input value is lesser than min value.",code:4})}x=h.min}}d=x;var t=m.prop("tagName");if(t.toLowerCase()=="textarea"||t.toLowerCase()=="input"||t.toLowerCase()=="select"){m.val(d)}else{m.text(d)}if(h.callback!=null){h.callback.call(q,d)}}function c(t){if(h.callback!=null){h.callback.call(q,t.value)}}}})(jQuery);
